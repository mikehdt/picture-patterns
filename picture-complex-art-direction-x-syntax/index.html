<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>&lt;picture&gt; with complex art direction and -x syntax &ndash; &lt;picture&gt; patterns</title>
<link href="../style/css/main.css" rel="stylesheet" type="text/css">
</head>

<body>
<header class="header">
	<div class="container">
		<h1><a href="../"><code>&lt;picture&gt;</code> patterns</a></h1>
	</div>
</header>

<div class="container  container--padded">
	<div class="grid  grid--center">
		<div class="col  col-1  col-3-4--m  col-2-3--l">
			<div class="tile">
				<h2 class="tile__title"><code>&lt;picture&gt;</code> with complex art direction and <code>-x</code> syntax</h2>

				<p>Here we have three types of images. A hero, a rectangular image and a square image. At smallest size, all images &ndash; even the square &ndash; are presented as rectangles. This necessitates forcing source selection at sizes, aka art direction. It may also, for reasons of visual quality, be desirable to ensure the best fitting image.</p>

				<p>For reasons of avoiding caching issues, <code>?em=xx</code> queries are used to make each size &ldquo;unique&rdquo;.</p>

				<p>Further adding complexity is a fixed sidebar at larger sizes, which the images need to adapt to. To keep gutters simple, they are set to <code>3vw</code> at all sizes. It is likely in a true real-world scenario that this value would change (eg. capping at the lower and upper bounds). The sidebar affects the hero and other images as well, resulting in the rather lengthy <code>source</code> list for each.</p>

				<p>It is also likely that, unles in exceptional circumstance, you would want to consider automating generation of the <code>&lt;picture&gt;</code> tags and related scaled images.</p>

				<p>Using the <code>-x</code> syntax and <code>&lt;source&gt;</code> tags ensures that an appropriate image is chosen for each breakpoint. The last <code>&lt;source&gt;</code> does not have a media query specified, to handle all remaining small size displays.</p>
			</div>
		</div>
	</div>

	<div class="grid  grid--center">
		<div class="col  col-1  col-3-4--m  col-2-3--l">
			<div class="tile">
				<h3>Source:</h3>

				<pre><code class="language-html">
					<strong>Hero:</strong>
					&lt;picture&gt;
					    &lt;source media=&quot;(min-width: 80em)&quot;
					            srcset=&quot;img-hero-l.jpg?em=80  <mark class="m-1">1x</mark>,
					                    img-hero-xl.jpg?em=80 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source media=&quot;(min-width: 40em)&quot;
					            srcset=&quot;img-hero-m.jpg?em=40 <mark class="m-1">1x</mark>,
					                    img-hero-l.jpg?em=40 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source srcset=&quot;img-hero-s.jpg?em=20 <mark class="m-1">1x</mark>,
					                    img-hero-m.jpg?em=20 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;img src=&quot;img-hero-m.jpg&quot;
					         srcset=&quot;img-hero-m.jpg <mark class="m-1">1x</mark>,
					                 img-hero-l.jpg <mark class="m-2">2x</mark>&quot;&gt;
					&lt;/picture&gt;

					<strong>Rectangular block:</strong>
					&lt;picture&gt;
					    &lt;source media=&quot;(min-width: 80em)&quot;
					            srcset=&quot;img-re-s.jpg?em=80 <mark class="m-1">1x</mark>,
					                    img-re-m.jpg?em=80 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source media=&quot;(min-width: 60em)&quot;
					            srcset=&quot;img-re-m.jpg?em=60 <mark class="m-1">1x</mark>,
					                    img-re-l.jpg?em=60 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source media=&quot;(min-width: 40em)&quot;
					            srcset=&quot;img-re-s.jpg?em=40 <mark class="m-1">1x</mark>,
					                    img-re-m.jpg?em=40 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source media=&quot;(min-width: 30em)&quot;
					            srcset=&quot;img-re-m.jpg?em=30 <mark class="m-1">1x</mark>,
					                    img-re-l.jpg?em=30 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;source srcset=&quot;img-re-s.jpg?em=20 <mark class="m-1">1x</mark>,
					                    img-re-m.jpg?em=20 <mark class="m-2">2x</mark>&quot;&gt;
					    &lt;img src=&quot;img-re-m.jpg&quot;
					         srcset=&quot;img-re-m.jpg <mark class="m-1">1x</mark>,
					                 img-re-l.jpg <mark class="m-2">2x</mark>&quot;&gt;
					&lt;/picture&gt;

					<strong>Square block:</strong>
					&lt;picture&gt;
					    &lt;source media="(min-width: 80em)"
					            srcset="img-sq-s.jpg?em=80 <mark class="m-1">1x</mark>,
					                    img-sq-m.jpg?em=80 <mark class="m-2">2x</mark>"&gt;
					    &lt;source media="(min-width: 60em)"
					            srcset="img-sq-m.jpg?em=60 <mark class="m-1">1x</mark>,
					                    img-sq-l.jpg?em=60 <mark class="m-2">2x</mark>"&gt;
					    &lt;source media="(min-width: 40em)"
					            srcset="img-sq-s.jpg?em=40 <mark class="m-1">1x</mark>,
					                    img-sq-m.jpg?em=40 <mark class="m-2">2x</mark>"&gt;
					    &lt;source media="(min-width: 30em)"
					            srcset="img-sq-m.jpg?em=30 <mark class="m-1">1x</mark>,
					                    img-sq-l.jpg?em=30 <mark class="m-2">2x</mark>"&gt;
					    &lt;source srcset="img-re-s.jpg?em=20 <mark class="m-1">1x</mark>,
					                    img-re-m.jpg?em=20 <mark class="m-2">2x</mark>"&gt;
					    &lt;img src="img-sq-m.jpg"
					         srcset="img-sq-m.jpg <mark class="m-1">1x</mark>,
					                 img-sq-l.jpg <mark class="m-2">2x</mark>"&gt;
					&lt;/picture&gt;
				</code></pre>
			</div>
		</div>
	</div>
</div>

<div class="complex-grid  complex-grid--capped">
	<div class="complex-sidebar">
		<div class="inset">
			<h2>Sidebar</h2>
			<p>Fixed width sidebar</p>
		</div>
	</div>

	<!-- Explicit matching -->
	<div class="complex-content">
		<div class="complex-grid  complex-grid--center  complex-col-1">
			<div class="complex-col  complex-col-1">
				<!-- Image with fallback behaviour -->
				<!-- The ?em=x tag is to stop browsers from using a larger 1x source as a smaller 2x source -->
				<picture>
					<source media="(min-width: 80em)"
					        srcset="hero-l.jpg?em=80 1x,
					                hero-xl.jpg?em=80 2x">
					<source media="(min-width: 40em)"
					        srcset="hero-m.jpg?em=40 1x,
					                hero-l.jpg?em=40 2x">
					<source media="(min-width: 20em)"
					        srcset="hero-s.jpg?em=20 1x,
					                hero-m.jpg?em=20 2x">
					<img src="hero-m.jpg"
					     srcset="hero-m.jpg 1x,
					             hero-l.jpg 2x"
					     class="img-full">
				</picture>
				<p class="complex-picture-title  complex-picture-title--hero"><strong>Hero Image</strong></p>
			</div>
		</div>

		<!-- Order of srcet does not seem to matter, but I put 1x first. -->
		<!-- The img tag has a fallback srcset for compatibility; this is not strictly necessary -->
		<div class="complex-container">
			<div class="complex-grid  complex-grid--center  complex-grid--guttered">
				<div class="complex-col  complex-col-1  complex-col-1-2--m  complex-col-1--l  complex-col-1-2--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-re-s.jpg?em=80 1x,
						                img-re-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-re-m.jpg?em=60 1x,
						                img-re-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-re-s.jpg?em=40 1x,
						                img-re-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-re-m.jpg?em=30 1x,
						                img-re-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-re-m.jpg"
						     srcset="img-re-m.jpg 1x,
						             img-re-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>

				<div class="complex-col  complex-col-1  complex-col-1-2--s  complex-col-1-4--m  complex-col-1-2--l  complex-col-1-4--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-sq-s.jpg?em=80 1x,
						                img-sq-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-sq-m.jpg?em=60 1x,
						                img-sq-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-sq-s.jpg?em=40 1x,
						                img-sq-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-sq-m.jpg?em=30 1x,
						                img-sq-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-sq-m.jpg"
						     srcset="img-sq-m.jpg 1x,
						             img-sq-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>

				<div class="complex-col  complex-col-1  complex-col-1-2--s  complex-col-1-4--m  complex-col-1-2--l  complex-col-1-4--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-sq-s.jpg?em=80 1x,
						                img-sq-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-sq-m.jpg?em=60 1x,
						                img-sq-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-sq-s.jpg?em=40 1x,
						                img-sq-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-sq-m.jpg?em=30 1x,
						                img-sq-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-sq-m.jpg"
						     srcset="img-sq-m.jpg 1x,
						             img-sq-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>

				<div class="complex-col  complex-col-1  complex-col-1-2--s  complex-col-1-4--m  complex-col-1-2--l  complex-col-1-4--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-sq-s.jpg?em=80 1x,
						                img-sq-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-sq-m.jpg?em=60 1x,
						                img-sq-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-sq-s.jpg?em=40 1x,
						                img-sq-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-sq-m.jpg?em=30 1x,
						                img-sq-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-sq-m.jpg"
						     srcset="img-sq-m.jpg 1x,
						             img-sq-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>

				<div class="complex-col  complex-col-1  complex-col-1-2--s  complex-col-1-4--m  complex-col-1-2--l  complex-col-1-4--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-sq-s.jpg?em=80 1x,
						                img-sq-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-sq-m.jpg?em=60 1x,
						                img-sq-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-sq-s.jpg?em=40 1x,
						                img-sq-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-sq-m.jpg?em=30 1x,
						                img-sq-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-sq-m.jpg"
						     srcset="img-sq-m.jpg 1x,
						             img-sq-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>

				<div class="complex-col  complex-col-1  complex-col-1-2--m  complex-col-1--l  complex-col-1-2--xl">
					<picture>
						<source media="(min-width: 80em)"
						        srcset="img-re-s.jpg?em=80 1x,
						                img-re-m.jpg?em=80 2x">
						<source media="(min-width: 60em)"
						        srcset="img-re-m.jpg?em=60 1x,
						                img-re-l.jpg?em=60 2x">
						<source media="(min-width: 40em)"
						        srcset="img-re-s.jpg?em=40 1x,
						                img-re-m.jpg?em=40 2x">
						<source media="(min-width: 30em)"
						        srcset="img-re-m.jpg?em=30 1x,
						                img-re-l.jpg?em=30 2x">
						<source srcset="img-re-s.jpg?em=20 1x,
						                img-re-m.jpg?em=20 2x">
						<img src="img-re-m.jpg"
						     srcset="img-re-m.jpg 1x,
						             img-re-l.jpg 2x"
						     class="img-full">
					</picture>
					<p class="complex-picture-title">Title</p>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="container  container--padded">
	<div class="grid  grid--center">
		<div class="col  col-1  col-3-4--m  col-2-3--l">
			<div class="tile">
				<h2 class="tile__title">Browser support</h2>
				<p>Coming soon</p>
			</div>
		</div>
	</div>

	<p>Images from Pixabay &ndash; Hero: <a href="https://pixabay.com/en/mountains-valleys-plains-scenery-1149961/">Mountain valleys</a> &ndash; Other: <a href="https://pixabay.com/en/sunflower-bloom-yellow-nature-1200658/">Sunflower bloom</a>. Used under a Creative Commons licence.</p>

	<p><a href="../">&laquo; Back to <code>&lt;picture&gt;</code> patterns</a></p>
</div>

<footer class="footer">
	<div class="container">
		<div class="inset">
			<p>Made with &#9829; by <a href="https://twitter.com/mikehdt">@mikehdt</a></p>
		</div>
	</div>
</footer>

<script>
WebFontConfig = {
google: { families: [ 'Source+Sans+Pro:400,600:latin', 'Source+Code+Pro:400,700:latin' ] }
};
(function(){
var wf = document.createElement('script');
wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
	'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
wf.type = 'text/javascript';
wf.async = 'true';
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(wf, s);
})();
</script>
<script src="../js/prism.js"></script>
</body>
</html>